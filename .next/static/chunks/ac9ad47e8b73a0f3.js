(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>l,"CardTitle",()=>i]);var a=e.i(43476),s=e.i(71645),r=e.i(75157);let t=s.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-white text-gray-900 shadow-sm",t),...l})});t.displayName="Card";let l=s.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...l})});l.displayName="CardHeader";let i=s.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});i.displayName="CardTitle";let d=s.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-gray-600",t),...l})});d.displayName="CardDescription";let n=s.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...l})});n.displayName="CardContent",s.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter"},71689,e=>{"use strict";e.s(["ArrowLeft",()=>a],71689);let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>a],69638);let a=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},15788,e=>{"use strict";e.s(["Truck",()=>a],15788);let a=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},46897,e=>{"use strict";e.s(["MapPin",()=>a],46897);let a=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},61659,e=>{"use strict";e.s(["CreditCard",()=>a],61659);let a=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},69439,e=>{"use strict";e.s(["default",()=>j]);var a=e.i(43476),s=e.i(71645),r=e.i(75144),t=e.i(19455),l=e.i(93479),i=e.i(15288),d=e.i(1928),n=e.i(84614),c=e.i(46897),m=e.i(61659),o=e.i(15788),x=e.i(69638),u=e.i(71689),h=e.i(22016),p=e.i(57688);function j(){let{cartItems:e,clearCart:j}=(0,r.useCart)(),[g,f]=(0,s.useState)(!1),[y,N]=(0,s.useState)(!1),[v,b]=(0,s.useState)(""),[C,k]=(0,s.useState)({firstName:"",lastName:"",email:"",phone:"",address:{street:"",city:"",district:"",postalCode:"",country:"Türkiye"},notes:""}),[w,S]=(0,s.useState)("cash"),[T,z]=(0,s.useState)("standard"),A=e.reduce((e,a)=>e+a.price*a.quantity,0),q="express"===T?50:25*("pickup"!==T),H=A+q,I=async a=>{if(a.preventDefault(),0===e.length)return void alert("Sepetinizde ürün bulunmuyor");if(!C.firstName||!C.lastName||!C.email||!C.phone)return void alert("Lütfen tüm kişisel bilgilerinizi doldurun");if(!C.address.street||!C.address.city||!C.address.district)return void alert("Lütfen adres bilgilerinizi tam olarak doldurun (Sokak, Şehir, İlçe zorunludur)");f(!0);try{let a={customer:C,items:e.map(e=>({productId:e.id,productName:e.name,variantId:e.variantId,variantName:e.variantName,quantity:e.quantity,price:e.price,image:e.image})),subtotal:A,shippingCost:q,total:H,paymentMethod:w,shippingMethod:T,notes:C.notes},s=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){let e=await s.json();alert("Sipariş oluşturulurken hata oluştu: "+e.error);return}let r=await s.json();if(b(r.orderNumber),"cash"===w)N(!0),j();else if("credit_card"===w)try{let e=await fetch("/api/payments/paytr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,orderNumber:r.orderNumber})});if(e.ok){let a=await e.json();a.success?window.location.href=a.iframeUrl:alert("Ödeme işlemi başlatılamadı: "+a.error)}else{let a=await e.json();"PayTR configuration pending"===a.message?(N(!0),j()):alert("Ödeme işlemi başlatılamadı: "+a.error)}}catch(e){console.error("Payment error:",e),alert("Ödeme işlemi başlatılamadı")}else"bank_transfer"===w&&(N(!0),j())}catch(e){console.error("Error creating order:",e),alert("Sipariş oluşturulurken hata oluştu")}finally{f(!1)}};return 0!==e.length||y?y?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,a.jsx)(i.Card,{className:"w-full max-w-md text-center",children:(0,a.jsxs)(i.CardContent,{className:"pt-6",children:[(0,a.jsx)(x.CheckCircle,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Siparişiniz Alındı!"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["Sipariş numaranız: ",(0,a.jsx)("span",{className:"font-bold text-green-600",children:v})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Siparişiniz en kısa sürede hazırlanacak ve size ulaştırılacaktır."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.default,{href:"/",children:(0,a.jsx)(t.Button,{className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Ana Sayfaya Dön"})}),(0,a.jsx)(h.default,{href:"/products",children:(0,a.jsx)(t.Button,{variant:"outline",className:"w-full",children:"Alışverişe Devam Et"})})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(h.default,{href:"/cart",children:(0,a.jsxs)(t.Button,{variant:"outline",className:"mb-4",children:[(0,a.jsx)(u.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Sepete Dön"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sipariş Ver"})]}),(0,a.jsxs)("form",{onSubmit:I,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center",children:[(0,a.jsx)(n.User,{className:"h-5 w-5 mr-2"}),"Kişisel Bilgiler"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad *"}),(0,a.jsx)(l.Input,{value:C.firstName,onChange:e=>k(a=>({...a,firstName:e.target.value})),required:!0,className:"rounded-xl"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soyad *"}),(0,a.jsx)(l.Input,{value:C.lastName,onChange:e=>k(a=>({...a,lastName:e.target.value})),required:!0,className:"rounded-xl"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta *"}),(0,a.jsx)(l.Input,{type:"email",value:C.email,onChange:e=>k(a=>({...a,email:e.target.value})),required:!0,className:"rounded-xl"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon *"}),(0,a.jsx)(l.Input,{type:"tel",value:C.phone,onChange:e=>k(a=>({...a,phone:e.target.value})),required:!0,className:"rounded-xl"})]})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center",children:[(0,a.jsx)(c.MapPin,{className:"h-5 w-5 mr-2"}),"Adres Bilgileri"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres *"}),(0,a.jsx)(l.Input,{value:C.address.street,onChange:e=>k(a=>({...a,address:{...a.address,street:e.target.value}})),required:!0,className:"rounded-xl"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İl *"}),(0,a.jsx)(l.Input,{value:C.address.city,onChange:e=>k(a=>({...a,address:{...a.address,city:e.target.value}})),required:!0,className:"rounded-xl"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İlçe *"}),(0,a.jsx)(l.Input,{value:C.address.district,onChange:e=>k(a=>({...a,address:{...a.address,district:e.target.value}})),required:!0,className:"rounded-xl"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posta Kodu"}),(0,a.jsx)(l.Input,{value:C.address.postalCode,onChange:e=>k(a=>({...a,address:{...a.address,postalCode:e.target.value}})),className:"rounded-xl"})]})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center",children:[(0,a.jsx)(m.CreditCard,{className:"h-5 w-5 mr-2"}),"Ödeme Yöntemi"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"space-y-3",children:[{value:"cash",label:"Kapıda Ödeme",desc:"Teslimat sırasında nakit ödeme"},{value:"credit_card",label:"Kredi Kartı",desc:"Güvenli online ödeme"},{value:"bank_transfer",label:"Havale/EFT",desc:"Banka havalesi ile ödeme"}].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,a.jsx)("input",{type:"radio",name:"paymentMethod",value:e.value,checked:w===e.value,onChange:e=>S(e.target.value),className:"text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.desc})]})]},e.value))})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center",children:[(0,a.jsx)(o.Truck,{className:"h-5 w-5 mr-2"}),"Teslimat Yöntemi"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"space-y-3",children:[{value:"standard",label:"Standart Teslimat",desc:"2-3 iş günü",cost:"25 ₺"},{value:"express",label:"Hızlı Teslimat",desc:"1 iş günü",cost:"50 ₺"},{value:"pickup",label:"Mağazadan Teslim",desc:"Ücretsiz",cost:"Ücretsiz"}].map(e=>(0,a.jsxs)("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",name:"shippingMethod",value:e.value,checked:T===e.value,onChange:e=>z(e.target.value),className:"text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.desc})]})]}),(0,a.jsx)("div",{className:"font-medium text-green-600",children:e.cost})]},e.value))})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Özel Notlar"})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("textarea",{value:C.notes,onChange:e=>k(a=>({...a,notes:e.target.value})),placeholder:"Siparişinizle ilgili özel notlarınızı buraya yazabilirsiniz...",className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",rows:3})})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(i.Card,{className:"sticky top-4",children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:"Sipariş Özeti"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"relative w-12 h-12 rounded-lg overflow-hidden bg-gray-100",children:e.image?(0,a.jsx)(p.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(d.ShoppingCart,{className:"h-6 w-6 text-gray-400"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),e.variantName&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.variantName}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Adet: ",e.quantity]})]}),(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[(e.price*e.quantity).toFixed(2)," ₺"]})]},"".concat(e.id,"-").concat(e.variantId||"default")))}),(0,a.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Ara Toplam:"}),(0,a.jsxs)("span",{children:[A.toFixed(2)," ₺"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Kargo:"}),(0,a.jsxs)("span",{children:[q.toFixed(2)," ₺"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[(0,a.jsx)("span",{children:"Toplam:"}),(0,a.jsxs)("span",{className:"text-green-600",children:[H.toFixed(2)," ₺"]})]})]}),(0,a.jsx)(t.Button,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white py-3 rounded-xl",children:g?"Sipariş Oluşturuluyor...":"Siparişi Tamamla"})]})]})})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.ShoppingCart,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sepetiniz Boş"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Sipariş vermek için önce ürün ekleyin"}),(0,a.jsx)(h.default,{href:"/",children:(0,a.jsxs)(t.Button,{className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,a.jsx)(u.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Alışverişe Devam Et"]})})]})})}}]);